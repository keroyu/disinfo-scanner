# 角色功能說明

**版本**: 1.0
**更新日期**: 2025-11-30
**適用對象**: 管理員、客服人員

本文件說明各會員等級的功能與限制。

---

## 目錄

1. [角色總覽](#角色總覽)
2. [訪客 (Visitor)](#訪客-visitor)
3. [一般會員 (Regular Member)](#一般會員-regular-member)
4. [高級會員 (Premium Member)](#高級會員-premium-member)
5. [網站編輯 (Website Editor)](#網站編輯-website-editor)
6. [管理員 (Administrator)](#管理員-administrator)
7. [角色比較表](#角色比較表)
8. [常見問題](#常見問題)

---

## 角色總覽

系統共有 5 種使用者角色，權限由低到高排列：

```
訪客 → 一般會員 → 高級會員 → 網站編輯 → 管理員
```

---

## 訪客 (Visitor)

### 說明
未登入或未註冊的使用者。

### 可使用功能

| 功能 | 狀態 | 說明 |
|------|:----:|------|
| 瀏覽首頁 | ✅ | 可以瀏覽網站首頁 |
| 瀏覽影片列表 | ✅ | 可以查看所有影片 |
| 使用影片分析 | ✅ | 可以查看分析結果 |

### 限制

| 功能 | 狀態 | 提示訊息 |
|------|:----:|----------|
| 瀏覽頻道列表 | ❌ | 請登入會員 |
| 瀏覽留言列表 | ❌ | 請登入會員 |
| 使用搜尋功能 | ❌ | 請登入會員 |
| 匯入影片 | ❌ | 請登入會員 |
| 匯出 CSV | ❌ | 請登入會員 |

### 建議行動
引導訪客註冊成為會員以解鎖更多功能。

---

## 一般會員 (Regular Member)

### 說明
完成註冊並驗證 email 的基本會員。

### 可使用功能

| 功能 | 狀態 | 說明 |
|------|:----:|------|
| 瀏覽首頁 | ✅ | |
| 瀏覽影片列表 | ✅ | |
| 瀏覽頻道列表 | ✅ | |
| 瀏覽留言列表 | ✅ | 無搜尋功能 |
| 使用影片分析 | ✅ | |
| 使用 U-API 匯入 | ✅ | |
| 使用影片更新 | ✅* | *需設定 YouTube API Key |
| 變更密碼 | ✅ | |

### 限制

| 功能 | 狀態 | 提示訊息 |
|------|:----:|----------|
| 影片搜尋 | ❌ | 需升級為高級會員 |
| 留言搜尋 | ❌ | 需升級為高級會員 |
| 官方 API 匯入 | ❌ | 需升級為高級會員 |
| 管理後台 | ❌ | 無權限 |

### 升級提示
在右上角顯示「升級為高級會員」按鈕。

---

## 高級會員 (Premium Member)

### 說明
付費或經管理員手動升級的進階會員。

### 可使用功能

| 功能 | 狀態 | 說明 |
|------|:----:|------|
| 所有一般會員功能 | ✅ | |
| 影片搜尋 | ✅ | |
| 留言搜尋 | ✅ | |
| 官方 API 匯入 | ✅ | 每月 10 次配額 |

### 配額限制

| 項目 | 限制 | 重置時間 |
|------|:----:|----------|
| 官方 API 匯入 | 10 次/月 | 每月 1 日 |

### 解除配額限制

完成身分驗證後，官方 API 匯入配額將變為**無限制**。

**身分驗證流程**：
1. 進入「設定」頁面
2. 點擊「身分驗證」區塊
3. 選擇驗證方式並提交資料
4. 等待管理員審核（通常 1-3 個工作天）
5. 審核通過後即可享有無限配額

### 配額顯示
在使用官方 API 匯入時，會顯示目前配額使用狀況（例如：7/10）。

---

## 網站編輯 (Website Editor)

### 說明
負責網站內容管理的編輯人員。

### 可使用功能

| 功能 | 狀態 | 說明 |
|------|:----:|------|
| 所有高級會員功能 | ✅ | |
| 官方 API 匯入 | ✅ | **無配額限制** |

### 與高級會員的差異
- 官方 API 匯入**不受配額限制**
- 無需身分驗證即可無限使用

### 限制

| 功能 | 狀態 | 說明 |
|------|:----:|------|
| 管理後台 | ❌ | 無權限 |
| 管理使用者 | ❌ | 無權限 |

---

## 管理員 (Administrator)

### 說明
系統管理員，擁有完整的系統存取權限。

### 可使用功能

| 功能 | 狀態 | 說明 |
|------|:----:|------|
| 所有前台功能 | ✅ | 無任何限制 |
| 管理後台 | ✅ | 完整存取 |
| 管理使用者 | ✅ | 查看、編輯、刪除 |
| 管理權限 | ✅ | 變更角色 |
| 審核身分驗證 | ✅ | 批准/拒絕 |

### 預設管理員帳號
- Email: `themustbig@gmail.com`
- 密碼: `2025Nov20`

### 重要限制
⚠️ 管理員**無法變更自己的角色**。如需變更，請由其他管理員操作。

---

## 角色比較表

### 頁面存取

| 頁面 | 訪客 | 一般 | 高級 | 編輯 | 管理員 |
|------|:----:|:----:|:----:|:----:|:------:|
| 首頁 | ✅ | ✅ | ✅ | ✅ | ✅ |
| 影片列表 | ✅ | ✅ | ✅ | ✅ | ✅ |
| 頻道列表 | ❌ | ✅ | ✅ | ✅ | ✅ |
| 留言列表 | ❌ | ✅ | ✅ | ✅ | ✅ |
| 管理後台 | ❌ | ❌ | ❌ | ❌ | ✅ |

### 功能使用

| 功能 | 訪客 | 一般 | 高級 | 編輯 | 管理員 |
|------|:----:|:----:|:----:|:----:|:------:|
| 影片分析 | ✅ | ✅ | ✅ | ✅ | ✅ |
| 影片更新 | ❌ | ✅* | ✅ | ✅ | ✅ |
| U-API 匯入 | ❌ | ✅ | ✅ | ✅ | ✅ |
| 官方 API 匯入 | ❌ | ❌ | ✅** | ✅ | ✅ |
| 影片搜尋 | ❌ | ❌ | ✅ | ✅ | ✅ |
| 留言搜尋 | ❌ | ❌ | ✅ | ✅ | ✅ |

\* 需設定 YouTube API Key
\** 每月 10 次，身分驗證後無限制

### 配額與限制

| 項目 | 訪客 | 一般 | 高級 | 編輯 | 管理員 |
|------|:----:|:----:|:----:|:----:|:------:|
| 官方 API 匯入/月 | - | - | 10 | ∞ | ∞ |
| CSV 匯出/小時 | - | 5 | 5 | 5 | ∞ |
| CSV 匯出列數上限 | - | 1,000 | 3,000 | 3,000 | ∞ |

---

## 常見問題

### Q: 如何升級為高級會員？
A: 請點擊右上角的「升級為高級會員」按鈕，或聯繫管理員申請升級。

### Q: 我的官方 API 匯入配額用完了怎麼辦？
A: 您可以：
1. 等待下個月配額重置（每月 1 日）
2. 完成身分驗證以獲得無限配額
3. 聯繫管理員協助

### Q: 如何查看我的配額使用狀況？
A: 在使用官方 API 匯入功能時，系統會顯示目前的配額使用狀況。

### Q: 我設定了 YouTube API Key，但影片更新功能還是無法使用？
A: 請確認：
1. API Key 格式正確（以 `AIza` 開頭）
2. API Key 已啟用 YouTube Data API v3
3. API Key 配額尚未用盡

### Q: 如何變更其他會員的角色？
A: 只有管理員可以變更會員角色：
1. 登入管理後台
2. 進入「會員管理」
3. 選擇要修改的會員
4. 在「角色」欄位選擇新角色
5. 儲存變更

---

## 相關文件

- [權限矩陣參考表](./permission-matrix.md)
- [管理員使用手冊](./admin-guide.md)
- [RBAC 架構文件](./rbac-architecture.md)

---

**文件維護者**: 開發團隊
**最後更新**: 2025-11-30
